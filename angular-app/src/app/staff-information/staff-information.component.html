<main class="min-h-screen bg-[#FAF7F2] py-16 px-4 sm:px-8">
  <div class="max-w-6xl mx-auto">

    <div *ngIf="isLoading" class="flex flex-col justify-center items-center py-20">
      <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-brand-gold"></div>
      <span class="mt-4 font-beauty italic text-xl text-slate-600 tracking-wide">Refining your view...</span>
    </div>

    <div *ngIf="errorMessage" class="mb-10 p-6 bg-white border border-brand-pink/50 rounded-2xl shadow-sm max-w-2xl mx-auto flex items-center gap-4">
      <span class="text-brand-gold text-2xl">âœ¦</span>
      <p class="text-slate-600 font-light tracking-wide italic">{{ errorMessage }}</p>
    </div>

    <section *ngIf="!isLoading && isAdmin" class="animate-in fade-in duration-700">
      <header class="text-center mb-16">
        <p class="text-slate-400 uppercase tracking-[0.3em] text-[10px] mb-3 font-medium">Internal Management</p>
        <h1 class="font-beauty italic text-5xl text-slate-800">Executive Directory</h1>
        <div class="mt-4 h-[1px] w-24 bg-brand-gold/40 mx-auto"></div>
      </header>

      <div class="bg-white rounded-3xl shadow-xl shadow-slate-200/50 border border-brand-pink/20 overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full text-left">
            <thead>
            <tr class="bg-slate-900 text-pink-100 uppercase tracking-[0.2em] text-[11px]">
              <th class="px-6 py-5 font-medium">Artist & Email</th>
              <th class="px-6 py-5 font-medium">Phone Number</th>
              <th class="px-6 py-5 font-medium">SSN (Last 4)</th>
              <th class="px-6 py-5 font-medium">Bank Account</th>
            </tr>
            </thead>
            <tbody class="divide-y divide-brand-pink/10">
            <tr *ngFor="let s of staffs" class="hover:bg-[#FAF7F2]/50 transition-all duration-300 group">

              <td class="px-6 py-6">
                <div class="flex flex-col">
                    <span class="font-beauty italic text-xl text-slate-800 group-hover:text-brand-gold transition-colors">
                      {{ s.firstName }} {{ s.lastName }}
                    </span>
                  <span class="text-[10px] text-slate-500 font-medium tracking-wider uppercase mt-1">{{ s.email }}</span>
                </div>
              </td>

              <td class="px-6 py-6">
                  <span class="text-slate-600 font-light text-sm tracking-wide">
                    {{ s.phone || 'N/A' }}
                  </span>
              </td>

              <td class="px-6 py-6">
                  <span class="font-mono text-xs text-slate-700 tracking-tighter bg-slate-50 px-2 py-1 rounded border border-slate-100">
                    {{ s.ssn ? '***-**-' + (s.ssn.toString() | slice:-4) : 'Pending' }}
                  </span>
              </td>

              <td class="px-6 py-6">
                  <span class="font-mono text-xs text-slate-700 font-medium">
                    {{ s.bankAccountNumber || s.bankAccount || 'Not Provided' }}
                  </span>
              </td>

            </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <section *ngIf="!isLoading && !isAdmin && myProfile" class="max-w-3xl mx-auto animate-in slide-in-from-bottom-8 duration-1000">
      <header class="text-center mb-12">
        <h1 class="font-beauty italic text-5xl text-slate-800">Artist Profile</h1>
        <p class="text-brand-gold uppercase tracking-[0.2em] text-[10px] mt-2">Personal Workspace</p>
      </header>

      <div class="bg-white rounded-[2rem] shadow-2xl shadow-slate-200/60 overflow-hidden border border-brand-pink/30">
        <div class="h-32 bg-slate-900 flex items-end justify-end p-8">
          <svg class="w-12 h-12 text-brand-gold/20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 7.5a4.5 4.5 0 1 1 4.5 4.5M12 7.5A4.5 4.5 0 1 0 7.5 12M12 7.5V12m4.5 0a4.5 4.5 0 1 1-4.5 4.5M16.5 12H12m-4.5 0A4.5 4.5 0 1 0 12 16.5M7.5 12H12m0 0v4.5" />
          </svg>
        </div>

        <div class="px-10 pb-12 -mt-12">
          <div class="h-24 w-24 rounded-full bg-white shadow-lg border-4 border-white flex items-center justify-center text-3xl font-beauty italic text-brand-gold bg-gradient-to-br from-white to-[#FAF7F2] mb-6">
            {{ myProfile.firstName[0] }}{{ myProfile.lastName[0] }}
          </div>

          <div class="grid md:grid-cols-2 gap-12">
            <div class="space-y-8">
              <div>
                <label class="block text-[10px] uppercase tracking-[0.2em] text-slate-400 mb-1 font-bold">Legal Name</label>
                <p class="font-beauty italic text-3xl text-slate-800">{{ myProfile.firstName }} {{ myProfile.lastName }}</p>
              </div>
              <div>
                <label class="block text-[10px] uppercase tracking-[0.2em] text-slate-400 mb-1 font-bold">Email</label>
                <p class="text-slate-600 font-light text-lg normal-case">{{ myProfile.email }}</p>
              </div>
              <div>
                <label class="block text-[10px] uppercase tracking-[0.2em] text-slate-400 mb-1 font-bold">Contact</label>
                <p class="text-slate-600 font-light text-lg">{{ myProfile.phone }}</p>
              </div>
            </div>

            <div class="bg-[#FAF7F2] rounded-2xl p-8 border border-brand-pink/20">
              <div class="flex items-center gap-3 mb-6">
                <div class="h-[1px] flex-1 bg-brand-gold/30"></div>
                <h3 class="text-[10px] uppercase tracking-[0.3em] font-bold text-brand-gold whitespace-nowrap">Payroll Security</h3>
                <div class="h-[1px] flex-1 bg-brand-gold/30"></div>
              </div>

              <div class="space-y-6">
                <div>
                  <label class="block text-[9px] uppercase tracking-widest text-slate-500 mb-1">Social Security Number</label>
                  <p class="font-mono text-slate-800 tracking-tighter">***-**-{{ myProfile.ssn | slice:-4 }}</p>
                </div>
                <div>
                  <label class="block text-[9px] uppercase tracking-widest text-slate-500 mb-1">Bank Account (EFT)</label>
                  <p class="font-mono text-slate-800 tracking-tighter">{{ myProfile.bankAccountNumber || myProfile.bankAccount }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="mt-20 flex items-center justify-center gap-4 opacity-40">
      <div class="h-[1px] w-12 bg-brand-gold"></div>
      <span class="text-brand-gold text-xs italic font-beauty">BeautyByNguyenHa</span>
      <div class="h-[1px] w-12 bg-brand-gold"></div>
    </div>

  </div>
</main>
