<div class="min-h-screen flex items-center justify-center bg-slate-50 py-12 px-4">
  <div class="max-w-md w-full bg-white p-8 md:p-12 rounded-3xl shadow-xl border border-brand-pink transition-all">

    <!-- FORM -->
    <div *ngIf="!successMessage">

      <!-- Header (UNCHANGED) -->
      <div class="text-center mb-10">
        <h1 class="font-beauty italic text-4xl text-slate-800">New Password</h1>
        <p class="text-slate-500 mt-2 font-light text-sm">
          Please enter and confirm your new secure password.
        </p>
      </div>

      <div class="flex flex-col gap-4">

        <!-- ✅ BOXED: New Password -->
        <div class="border border-slate-200 rounded-2xl p-3 focus-within:border-brand-pink transition">
          <input
            type="password"
            [(ngModel)]="password"
            (ngModelChange)="validatePassword()"
            placeholder="New Password"
            class="luxury-input"
          />
        </div>

        <small
          class="text-rose-500 text-[10px] uppercase tracking-widest mt-1"
          [hidden]="passwordValid || !password"
        >
          Password must be at least 8 characters
        </small>

        <!-- ✅ BOXED: Confirm Password -->
        <div class="border border-slate-200 rounded-2xl p-3 focus-within:border-brand-pink transition">
          <input
            type="password"
            [(ngModel)]="confirmedPassword"
            placeholder="Confirm New Password"
            class="luxury-input"
          />
        </div>

        <small
          class="text-rose-500 text-[10px] uppercase tracking-widest mt-1"
          [hidden]="confirmedPassword === '' || password === confirmedPassword"
        >
          Passwords do not match
        </small>

        <!-- Error (UNCHANGED) -->
        <p class="text-rose-600 text-center text-xs italic" *ngIf="errorMessage">
          {{ errorMessage }}
        </p>

        <!-- Button (UNCHANGED) -->
        <button
          (click)="resetPassword()"
          [disabled]="loading || !passwordValid || password !== confirmedPassword || !token"
          class="w-full bg-slate-900 text-white py-4 rounded-xl font-semibold tracking-widest uppercase text-xs
                 hover:bg-brand-gold hover:text-slate-900
                 disabled:bg-slate-100 disabled:text-slate-300
                 disabled:cursor-not-allowed transition-all duration-300 shadow-lg mt-4"
        >
          {{ loading ? 'Updating Password...' : 'Reset Password' }}
        </button>
      </div>
    </div>

    <!-- SUCCESS (UNCHANGED) -->
    <div *ngIf="successMessage" class="text-center animate-fade-in">
      <div class="w-16 h-16 bg-green-50 text-green-500 rounded-full flex items-center justify-center mx-auto mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
             stroke-width="2" stroke="currentColor" class="w-8 h-8">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" />
        </svg>
      </div>

      <h2 class="text-2xl font-semibold text-slate-800">Success!</h2>
      <p class="text-slate-500 mt-3 font-light">{{ successMessage }}</p>

      <a
        href="/login"
        class="mt-8 inline-block text-brand-gold font-semibold text-sm underline underline-offset-4"
      >
        Go to Login
      </a>
    </div>

  </div>
</div>
